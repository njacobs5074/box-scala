name: scala
version: 0.2.8
type: main
description: Java8 box provisioned with the Oracle distribution via the webupd8team ppa. Come with last last sbt (currently 0.13.8)
os: ubuntu@14.04
keywords:
  - java
  - sbt
  - scala
  - oracle
  - sun
env:
  SBT_OPTS: -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled 
  JAVA_OPTS: '-Dsbt.ivy.home="$WERCKER_CACHE_DIR/ivy2"'
  IVY_CACHE_DIR: '"$WERCKER_CACHE_DIR/ivy"'
script: |-
  #install Java 8
  sudo apt-get update
  sudo apt-get install python-software-properties curl wget -y
  sudo add-apt-repository ppa:webupd8team/java -y
  sudo apt-get update
  echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections
  sudo apt-get install oracle-java8-installer -qq
  sudo apt-get install oracle-java8-set-default -y
  
  #install python
  sudo apt-get install python-pip
  sudo pip install boto
  
  #install scala
  sudo apt-get remove scala-library scala
  sudo apt-get install libjansi-java
  wget http://www.scala-lang.org/files/archive/scala-2.11.7.deb
  sudo dpkg -i scala-2.11.7.deb
  sudo apt-get update
  sudo apt-get install scala
  
  #install sbt
  wget http://dl.bintray.com/sbt/debian/sbt-0.13.8.deb
  sudo dpkg -i sbt-0.13.8.deb 
  sudo apt-get update
  sudo apt-get install sbt

  #install maven
  sudo apt-get install maven
  
  #install ruby
  sudo apt-get install ruby 1.9.3
  cd /etc/alternatives
  sudo ln -sf /usr/bin/ruby1.9.3 ruby
